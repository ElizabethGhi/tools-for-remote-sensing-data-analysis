The following scripts present an example of how to preprocess satellite data to perform analysis of climatological and hydrological variables, such as precipitation, temperature, evapotranspiration, etc.


1. Precipitation_Monthly.ipynb presents an example of the use of precipitation data (CHIRPS) of a study area (Mexico Basin) using Earth Engine and Google Colab. The exercise shows the use of the clipping tool with temporal shapes and aggregations to reduce information from a satellite image dataset to a set of monthly time series. All the processes in this script are performed in the cloud. To use it you need to enter your Earth Engine account credentials, as well as mount your google drive and substitute the paths where the files will be placed (in case you want to download them).

2. Conversion_shp_to_nc.ipynb and Download_Datasets_nc.ipynb show an example of downloading satellite image data in .nc format within a study area. For this case we rasterized a set of aquifers (polygons) of the Mexico Basin (originally in shape format) and created a dararray containing the outer polygon of the basin and the inner polygons (aquifers in this case), as array variables. This array, stored as Poligonos_int.nc, was used to create a clipping mask of precipitation data (CHIRPS). The clipped precipitation dataset within the study area was saved as CHIRPS_Daily_CM.nc. 

Working with datasets in nc format instead of working in the cloud through Earth Engine has the advantages of being able to store the data on your own computer or server without relying on a constant internet connection and the cloud request. Although EE offers a large amount of data and computing power, some services have limitations on the amount of resources you can use for free or under certain subscriptions. The nc format is flexible and can be manipulated in several programming languages (Python, R, MATLAB, etc.), using libraries such as xarray, netCDF4, h5py, among others.

3. Aggregations_time_series_datasets_nc.ipynb shows an example of how to easily perform monthly aggregations of datasets (CHIRPS) in nc format and obtain time series within areas of interest. The scrip is also intended to compare with the procedure performed in the cloud.

4. ET_Download_&_Time_Series.ipynb shows a combined example of downloading total and potential evapotranspiration data from the MOD16A2.061 dataset with 8-day time scale in nc format, and generating monthly and annual series within the study area. At the same time, they are compared with potential evapotranspiration data from .csv series extracted from the Climate Engine platform.
